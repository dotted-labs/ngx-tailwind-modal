@if (overlayVisible) {
  <div
    [style.z-index]="visible ? layerPosition - 1 : -1"
    [ngClass]="{
      'bg-transparent': !backdrop,
      'fixed inset-0 overflow-x-hidden overflow-y-auto transition-colors duration-500': true,
      'bg-black/50': openedClass && backdrop,
    }"
    class="z-1040 block w-100vw h-100vh"
    (click)="dismiss($event)"
    #nsmOverlay
  >
    <div
      [style.z-index]="visible ? layerPosition : -1"
      [ngClass]="['relative outline-none', customClass, openedClass ? 'opacity-100 visible' : 'opacity-0']"
      #nsmDialog
      [attr.aria-hidden]="openedClass ? false : true"
      [attr.aria-label]="ariaLabel"
      [attr.aria-labelledby]="ariaLabelledBy"
      [attr.aria-describedby]="ariaDescribedBy"
    >
      <dialog class="modal" #nsmContent open>
        <div class="modal-box relative">
          <div class="relative" #nsmContent>
            <ng-template #dynamicContent></ng-template>
            <ng-content></ng-content>
          </div>
          @if (closable) {
            <button type="button" (click)="close()" aria-label="Close" class="btn btn-sm btn-circle absolute right-2 top-2">âœ•</button>
          }
          <div class="modal-action"></div>
        </div>
      </dialog>
    </div>
  </div>
}
